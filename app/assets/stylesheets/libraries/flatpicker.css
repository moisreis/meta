/* =============================================================================
 * Flatpickr Stylesheet
 * =============================================================================
 *
 * File         : flatpickr.css
 * Author       : Moisés Reis
 * Created      : 11/27/2025
 * Last Updated : 11/27/2025
 * Version      : 1.0.0
 *
 * -----------------------------------------------------------------------------
 * TABLE OF CONTENTS
 * -----------------------------------------------------------------------------
 *
 *   1.  Calendar Container
 *   2.  Month Header & Navigation
 *       2a. Month Bar Layout
 *       2b. Month & Year Text
 *       2c. Navigation Arrows
 *       2d. Year Number Input
 *   3.  Weekday Headers
 *   4.  Day Grid
 *       4a. Container & Spacing
 *       4b. Day — Base
 *       4c. Day — Hover
 *       4d. Day — Today
 *       4e. Day — Selected
 *
 * -----------------------------------------------------------------------------
 * NOTES
 * -----------------------------------------------------------------------------
 *
 *   - All values reference design system tokens (--color-*, --spacing, etc.).
 *     Never hardcode colors or spacing in this file.
 *   - Flatpickr defaults are overridden with !important where the library's
 *     inline styles or specificity would otherwise win.
 *   - Navigation arrow icons are injected via inline SVG in CSS content
 *     to avoid a separate icon dependency.
 *
 * =============================================================================
 * © 2025 Meta. All rights reserved.
 * ============================================================================= */


/* =============================================================================
 * 1. CALENDAR CONTAINER
 * ============================================================================= */

/**
 * .flatpickr-calendar
 * Root calendar wrapper. Sets border, shadow, font, and radius to match
 * the design system and unify the datepicker with the rest of the UI.
 */
.flatpickr-calendar {
    border: 1px solid var(--color-border);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    font-family: var(--font-body);
    border-radius: var(--radius-base) !important;
}

/**
 * .flatpickr-days
 * Day grid section. Adds a top border to separate it from the month header
 * and rounds the bottom corners to close out the calendar container.
 */
.flatpickr-days {
    border-top: 1px solid var(--color-border);
    border-bottom-left-radius: var(--radius-base) !important;
    border-bottom-right-radius: var(--radius-base) !important;
}


/* =============================================================================
 * 2. MONTH HEADER & NAVIGATION
 * ============================================================================= */

/* --- 2a. Month Bar Layout ------------------------------------------------- */

/**
 * .flatpickr-months
 * Horizontal bar containing the month/year label and navigation arrows.
 * Fixed height with flex centering ensures consistent vertical alignment.
 */
.flatpickr-months {
    height: calc(var(--spacing) * 12) !important;
    padding: calc(var(--spacing) * 3);
    display: flex;
    justify-content: center;
    align-items: center;
}


/* --- 2b. Month & Year Text ------------------------------------------------ */

/**
 * .cur-month, .cur-year
 * Displayed month name and year number. Slightly muted and medium-weight
 * to sit below page headings in visual hierarchy without disappearing.
 */
.cur-month,
.cur-year {
    font-size: var(--text-base) !important;
    font-weight: 500 !important;
    color: var(--color-muted) !important;
}


/* --- 2c. Navigation Arrows ------------------------------------------------ */

/**
 * .flatpickr-prev-month, .flatpickr-next-month
 * Previous and next month buttons. Flex-centered to align the SVG icon
 * within the fixed-height month bar.
 */
.flatpickr-prev-month,
.flatpickr-next-month {
    display: flex;
    justify-content: center;
    align-items: center;
    height: calc(var(--spacing) * 12) !important;
}

.flatpickr-prev-month {
    margin-left: calc(var(--spacing) * 3) !important;
}

.flatpickr-next-month {
    margin-right: calc(var(--spacing) * 3) !important;
}

/**
 * Arrow SVG icons — default state.
 * Muted stroke to match other inactive UI controls.
 */
.flatpickr-prev-month svg,
.flatpickr-next-month svg {
    stroke: var(--color-muted);
}

/**
 * Arrow SVG icons — hover state.
 * Body-colored stroke and transparent fill to signal interactivity
 * without adding a background fill that Flatpickr would otherwise inject.
 */
.flatpickr-months .flatpickr-prev-month:hover svg,
.flatpickr-months .flatpickr-next-month:hover svg {
    stroke: var(--color-body);
    fill: transparent !important;
}


/* --- 2d. Year Number Input ------------------------------------------------ */

/**
 * .flatpickr-current-month .numInputWrapper
 * Wrapper around the year <input>. Styled as a subtle pill matching
 * the accent input surface used elsewhere in the app.
 */
.flatpickr-current-month .numInputWrapper {
    background-color: var(--color-accent) !important;
    border: 1px solid var(--color-border) !important;
    border-radius: var(--radius-base) !important;
    margin-left: calc(var(--spacing) * 1.5) !important;
}

/**
 * .numInputWrapper span, .arrowUp span, .arrowDown span
 * Removes Flatpickr's default border on the increment/decrement arrow buttons.
 */
.numInputWrapper span,
.arrowUp span,
.arrowDown span {
    border-color: transparent !important;
}

/**
 * .arrowDown:after, .arrowUp:after
 * Injects custom SVG chevron icons into the year input spinner buttons.
 * Replaces Flatpickr's default border-based arrows with clean, consistent icons.
 */
.numInputWrapper span.arrowDown:after {
    content: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%238a8a8a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='m6 9 6 6 6-6'/></svg>");
    border: none;
    top: -15% !important;
    right: 10% !important;
}

.numInputWrapper span.arrowUp:after {
    content: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%238a8a8a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='m18 15-6-6-6 6'/></svg>");
    border: none;
    top: -15% !important;
    right: 10% !important;
}

/**
 * .arrowUp, .arrowDown — hover & active
 * Prevents Flatpickr from applying its default shaded background
 * to the spinner buttons on interaction.
 */
.arrowUp:hover,
.arrowDown:hover,
.arrowUp:active,
.arrowDown:active {
    background-color: transparent !important;
}


/* =============================================================================
 * 3. WEEKDAY HEADERS
 * ============================================================================= */

/**
 * .flatpickr-weekday
 * Short day-name labels (Mon, Tue, etc.). Slightly smaller and muted
 * to visually separate them from the interactive day numbers below.
 */
.flatpickr-weekdays {
    padding: calc(var(--spacing) * 3);
}

.flatpickr-weekday {
    font-size: var(--text-sm) !important;
    font-weight: 600 !important;
    color: var(--color-muted) !important;
}


/* =============================================================================
 * 4. DAY GRID
 * ============================================================================= */

/* --- 4a. Container & Spacing ---------------------------------------------- */

/**
 * .dayContainer
 * Wraps the full grid of day cells. Applies accent background and radius
 * to visually frame the interactive area of the calendar.
 */
.dayContainer {
    padding: calc(var(--spacing) * 3);
    background-color: var(--color-table-bg) !important;
    border-radius: var(--radius-base) !important;
}


/* --- 4b. Day — Base ------------------------------------------------------- */

/**
 * .flatpickr-day
 * Individual day cell. Monospaced font for consistent number width,
 * muted color for days that aren't today or selected.
 */
.flatpickr-day {
    border-radius: var(--radius-base) !important;
    color: var(--color-muted);
    font-family: var(--font-mono) !important;
    font-size: var(--text-sm) !important;
}


/* --- 4c. Day — Hover ------------------------------------------------------ */

/**
 * .flatpickr-day:hover
 * Accent surface and border on hover to confirm the cell is interactive.
 */
.flatpickr-day:hover {
    background-color: var(--color-accent);
    border-color: var(--color-border);
}


/* --- 4d. Day — Today ------------------------------------------------------ */

/**
 * .flatpickr-day.today
 * Highlights today's date with the lightest primary tint as background
 * and a subtle primary border. Clearly distinct from hover and selected states.
 */
.flatpickr-day.today {
    background-color: var(--color-primary-50);
    border-radius: var(--radius-base) !important;
    color: var(--color-primary-900);
    border-color: var(--color-primary-100);
}


/* --- 4e. Day — Selected --------------------------------------------------- */

/**
 * .flatpickr-day.selected
 * The user-chosen date. Full primary-900 background with inverted text
 * for maximum contrast and clear differentiation from hover and today.
 */
.flatpickr-day.selected {
    background-color: var(--color-primary-900) !important;
    color: var(--color-primary-50) !important;
    border-color: var(--color-primary-900) !important;
}