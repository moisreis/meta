/*
 * File: tom-select
 * Date: 11/27/2025
 * Author: Moisés Reis
 * Package: Meta
 *
 * Description: Defines the visual styling applied to TomSelect components.
 *              Ensures all select fields share the same look, spacing, and
 *              interaction behavior as the app’s design system.
 *
 * Usage: - What: Styles the select input, dropdown list, typing area, and option states.
 *                Normalizes colors, spacing, font sizes, shadows, and active-item behavior.
 *        - How: Applies CSS rules based entirely on design-system variables. The classes
 *               are automatically used by TomSelect when the library renders its markup.
 *        - Why: Keeps third-party UI elements visually consistent with the rest of the
 *               interface, prevents layout shifts, and maintains accessibility contrasts.
 */

/*
 * Styles the main visible field rendered by TomSelect.
 * Controls the container’s background, border, height, padding,
 * typography, and focus behavior to match the design system.
 */
.ts-control {
    border-color: var(--color-border);
    border-radius: var(--radius-base);
    background-color: var(--color-table-bg) !important;
    height: calc(var(--spacing) * 9);
    padding-right: calc(var(--spacing) * 3) !important;
    padding-left: calc(var(--spacing) * 3) !important;
    font-size: var(--text-sm);
    color: var(--color-muted);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    outline: none;
}

.ts-wrapper.input-small .ts-control {
    height: calc(var(--spacing) * 7) !important;
    padding: calc(var(--spacing) * 1) calc(var(--spacing) * 3) !important;
}

/*
 * Styles the text input that appears inside the select control
 * when typing a search query. Matches font sizing and colors
 * with the main field for seamless visual integration.
 */
.ts-control > input {
    font-size: var(--text-sm);
    color: var(--color-body);
}

/*
 * Styles the dropdown container that appears below the control.
 * Applies a neutral background, border, padding, and radius
 * to ensure visual consistency and proper spacing.
 */
.ts-dropdown {
    border: 1px solid;
    border-color: var(--color-border);
    border-radius: var(--radius-base);
    background-color: var(--color-white) !important;
    padding: calc(var(--spacing) * 1.5) !important;
}

/*
 * Styles the currently highlighted item (via keyboard or hover).
 * Applies the design system’s primary-light background and
 * higher-contrast text color for clear selection feedback.
 */
.ts-dropdown .active {
    background-color: var(--color-neutral-50);
    color: var(--color-body);
    border-radius: var(--radius-base);
}

/*
 * Styles each selectable option inside the dropdown.
 * Controls spacing, typography, and muted default color
 * to match other list-based UI elements.
 */
.option {
    font-size: var(--text-sm);
    color: var(--color-muted);
    padding: calc(var(--spacing) * 1.5) calc(var(--spacing) * 3) !important;
}

/*
 * Adds spacing between the search input field (when the
 * "dropdown_input" plugin is enabled) and the list of options,
 * preventing visual crowding and ensuring readability.
 */
.dropdown-input-wrap {
    margin-bottom: calc(var(--spacing) * 1.5) !important;
}

/*
 * Styles the search input created by the "dropdown_input"
 * plugin. Applies consistent background, padding, height,
 * border, radius, typography, and shadows to match the
 * main select control while remaining visually distinct.
 */
.plugin-dropdown_input .dropdown-input {
    background-color: var(--color-table-bg);
    border: 1px solid var(--color-border);
    padding-left: calc(var(--spacing) * 3) !important;
    padding-right: calc(var(--spacing) * 3) !important;
    padding-top: calc(var(--spacing) * 1) !important;
    padding-bottom: calc(var(--spacing) * 1) !important;
    height: calc(var(--spacing) * 9) !important;
    border-radius: var(--radius-base);
    font-size: var(--text-sm);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    outline: none;
}

/*
 * Styles the input when it is active.
 */
.plugin-dropdown_input.focus.dropdown-active .ts-control {
    border: 1px solid !important;
    border-color: var(--color-secondary-600) !important;
    --tw-ring-color: color-mix(in oklab,var(--color-secondary-100)50%,transparent);
    --tw-ring-shadow: var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);
    box-shadow: var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);
}

.item {
    color: var(--color-body) !important;
}

/*
 * Styles the search input close button
 * in it's base and hover states
 */
.ts-wrapper.plugin-remove_button:not(.rtl) .item .remove {
    border-left: 1px solid !important;
    border-color: var(--color-border) !important;
}

.ts-wrapper.plugin-remove_button .item .remove:hover {
    background: transparent;
}

.ts-wrapper.plugin-remove_button .item .remove {
    border-radius: 0 6px 6px 0 !important;
}