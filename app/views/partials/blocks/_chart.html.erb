<%#
  # Partial: _chart.html.erb
  # Date: 11/30/2025
  # Author: MoisÃ©s Reis
  # Package: Meta
  #
  # Description: Renders a container component designed to host various data visualizations (charts).
  #              It provides a standardized header with a title and a "Download" action button.
  #
  # Usage: - What: This component acts as a standardized frame for rendering Chartkick charts or other visual data elements.
  #                It handles the presentation layer (border, shadow, header).
  #        - How: Render the partial passing local variables `chart_title`, `data_source` (the dataset), and `empty_message`.
  #               The actual chart drawing code is passed via `yield`.
  #        - Why: Ensures a uniform look and feel for all data charts across the dashboard, improving user experience and consistency.
  %>

<div class="border border-border shadow-xs rounded-base flex flex-col gap-6">
  <div class="w-full flex flex-row justify-between items-center rounded-t-base border-b border-border bg-table-strong h-12 px-6">
    <%= content_tag :h3, chart_title, class: "text-muted font-heading capitalize" %>
    <%= link_to "#", class: "button button-outline button-small w-fit" do %>
      <%= inline_svg_tag("icons/arrow-down-to-line.svg") %>
      <%= content_tag :span, "Baixar" %>
    <% end %>
  </div>
  <div class="p-6 flex items-center justify-center">

    <%# [Conditional] Checks if the data source is not empty.
      #               If data exists, the block yields to render the actual chart code (e.g., Chartkick helpers).
      %>
    <% if data_source.any? %>
      <%= yield %>
    <% else %>
      <%= content_tag :span, empty_message, class: "text-muted font-mono" %>
    <% end %>
  </div>
</div>